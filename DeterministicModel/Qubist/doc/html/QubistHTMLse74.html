<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Anvil as a Standalone Optimizer</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,frames,3 --> 
<meta name="src" content="QubistHTML.tex"> 
<meta name="date" content="2012-02-01 01:22:00"> 
<link rel="stylesheet" type="text/css" href="QubistHTML.css"> 
</head><body 
>
<!--l. 6031--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLse75.html" >next</a>] [<a 
href="#tailQubistHTMLse74.html">tail</a>] [<a 
href="QubistHTMLch10.html#QubistHTMLse74.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">10.1   </span> <a 
 id="x104-15700010.1"></a>Anvil as a Standalone Optimizer</h3>
<a 
 id="dx104-157001"></a>
<!--l. 6035--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">10.1.1   </span> <a 
 id="x104-15800010.1.1"></a>Starting Anvil</h4>
<!--l. 6038--><p class="noindent" >Like the other Qubist optimizers, Anvil is usually started in standalone mode from the Qubist component selector
shown in Figure <a 
href="QubistHTMLse10.html#x21-300383">3.3<!--tex4ht:ref: fig:componentSelector --></a>. It can also be started using the &#8216;startAnvil&#8217; function in the Qubist home directory, but this will
only give you access to demos, and not your own projects. Starting Anvil will launch an interface like the one shown
in Figure <a 
href="#x104-1580011">10.1<!--tex4ht:ref: fig:Anvil_window --></a>.
<!--l. 6040--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         

                                                                                         
<a 
 id="x104-1580011"></a>
                                                                                         

                                                                                         
<div class="center" 
>
<!--l. 6041--><p class="noindent" >

<!--l. 6042--><p class="noindent" ><img 
src="figures/Anvil/Anvil.png" alt="PIC"  
></div>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;10.1: </span><span  
class="content"><a 
 id="dx104-158002"></a> Anvil running the &#8216;Data-Modeling/Data-Modeler&#8217; problem from the [Qubist_Home]/demos
directory as a standalone optimizer.</span></div><!--tex4ht:label?: x104-1580011 -->
                                                                                         

                                                                                         
<!--l. 6046--><p class="noindent" ></div><hr class="endfigure">
<h4 class="subsectionHead"><span class="titlemark">10.1.2   </span> <a 
 id="x104-15900010.1.2"></a>Anvil&#8217;s Graphical Interface</h4>
<a 
 id="dx104-159001"></a>
<!--l. 6052--><p class="noindent" >The upper left graph represents a two-dimensional projection of the current &#8216;population&#8217; of simulated annealing
points (blue dots), and all known optimal solutions (pink dots). The projection can be changed using the &#8216;X-Axis&#8217;
and &#8216;Y-Axis&#8217; menus.
<a 
 id="dx104-159002"></a>
<a 
 id="dx104-159003"></a>
<a 
 id="dx104-159004"></a>
<!--l. 6057--><p class="noindent" >The energy function plays the same role for a simulated annealing code as the fitness function does for a genetic
algorithm. The energy function has about as much to do with the real physical energy of a system, as a genetic
algorithm&#8217;s fitness function has to do with the fitness of an imagined organism. Energy is just an
indication of how good a particular solution is, and a useful analogy that fits with the simulated annealing
paradigm. If you are trying Anvil on a problem that you originally set up for Ferret, then the fitness
function that you designed for Ferret <span 
class="cmti-10">is </span>your Anvil energy function, without any modifications. Good
solutions have low energy, in analogy to how a cooling metal &#8216;searches&#8217; for it&#8217;s lowest energy state.
The lower right graph is the energy of the system as a function of time or steps. The top right graph
represents the temperature of all simulated annealing tracks, which governs the probability that the
simulated annealing algorithm will accept a &#8216;bad&#8217; perturbation that increases the energy (see equation
<a 
href="QubistHTMLse5.html#x15-24009r3">2.3<!--tex4ht:ref: eq:SA --></a>).
<a 
 id="dx104-159005"></a>
<a 
 id="dx104-159006"></a>
<a 
 id="dx104-159007"></a>
<!--l. 6062--><p class="noindent" >Anvil&#8217;s interface shares many of the features of the Ferret window (see Figure <a 
href="QubistHTMLse12.html#x26-330022">4.2<!--tex4ht:ref: fig:FCW1 --></a>), but is much simpler. Demos and
projects are selected from the &#8216;Demo&#8217; and &#8216;Project&#8217; menus and are started by clicking the &#8216;Start Anvil&#8217; button in
the upper button group. The run can be stopped by clicking the &#8216;Stop&#8217; button, or paused with the
&#8216;Pause&#8217; button. The view of the lower left plot can be toggled between a &#8216;C.P.D. plot&#8217; or the &#8216;User Plot&#8217;
using the radio buttons in the lower button group. This button group also contains buttons labelled
&#8216;Update&#8217; and &#8216;Freeze&#8217;. The Freeze button suppresses graphics temporarily, while Anvil continues to run on
the command line, and and the button label should change to &#8216;Un-Freeze&#8217; while Anvil&#8217;s graphics are
frozen. The Update button allows you to update the graphical display manually when the plots are
frozen.
<a 
 id="dx104-159008"></a>
<!--l. 6066--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">10.1.3   </span> <a 
 id="x104-16000010.1.3"></a>Setup File &amp; Defaults</h4>
<a 
 id="dx104-160001"></a>
<a 
 id="dx104-160002"></a>
<!--l. 6071--><p class="noindent" >Anvil&#8217;s default setup file (analogous to the defaultFerretSetup.m file; see Section <a 
href="QubistHTMLse17.html#x32-460004.7">4.7<!--tex4ht:ref: sec:setup --></a> for details) is
[Qubist_Home]/user/Anvil/defaults/defaultAnvilSetup.m, when running as a standalone optimizer. A full template
                                                                                         

                                                                                         
of Anvil settings is located in [Qubist_Home]/user/Anvil/templates/AnvilSetup_template.m. This file should be
copied to your project directory, renamed to AnvilSetup.m or another name of your choice, and modified to suit
your problem. Anvil setup options are discussed in Section <a 
href="QubistHTMLse82.html#x112-17100010.9">10.9<!--tex4ht:ref: sec:AnvilSetup --></a>.
<a 
 id="dx104-160003"></a>
<!--l. 6074--><p class="noindent" >When run in standalone mode, Anvil&#8217;s results are written to an OptimalSolutions.mat file in the project&#8217;s data
directory. The name of the data directory is determined by <span 
class="cmtt-10">par.history.dataDir </span>in the setup file, and is set to
&#8216;AnvilData&#8217; by default. The structure of an Anvil OptimalSolutions.mat file is discussed in Section <a 
href="QubistHTMLse80.html#x110-16900010.7">10.7<!--tex4ht:ref: sec:OptimalSolutions_Anvil --></a>.
Section <a 
href="QubistHTMLse81.html#x111-17000010.8">10.8<!--tex4ht:ref: sec:commandLine_Anvil --></a> shows how to run Anvil directly from the command line and receive results as a return
argument.
<a 
 id="dx104-160004"></a>
                                                                                         

                                                                                         
<!--l. 6078--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLse75.html" >next</a>] [<a 
href="QubistHTMLse74.html" >front</a>] [<a 
href="QubistHTMLch10.html#QubistHTMLse74.html" >up</a>] </p></div>
<!--l. 6078--><p class="noindent" ><a 
 id="tailQubistHTMLse74.html"></a>  
</body></html> 
