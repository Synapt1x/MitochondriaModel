<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Running Ferret Without Graphics</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,frames,3 --> 
<meta name="src" content="QubistHTML.tex"> 
<meta name="date" content="2012-02-01 01:22:00"> 
<link rel="stylesheet" type="text/css" href="QubistHTML.css"> 
</head><body 
>
<!--l. 2338--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLse25.html" >next</a>] [<a 
href="QubistHTMLse23.html" >prev</a>] [<a 
href="QubistHTMLse23.html#tailQubistHTMLse23.html" >prev-tail</a>] [<a 
href="#tailQubistHTMLse24.html">tail</a>] [<a 
href="QubistHTMLch4.html#QubistHTMLse24.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">4.14   </span> <a 
 id="x41-590004.14"></a>Running Ferret Without Graphics</h3>
<a 
 id="dx41-59001"></a>
<!--l. 2342--><p class="noindent" >Most users prefer to run Ferret through the user interface because it gives a clear picture of the progress of the run,
and consumes only minimal resources, especially when left in minimal graphics mode (see Section <a 
href="QubistHTMLse12.html#x26-340004.2.1">4.2.1<!--tex4ht:ref: sec:graphicsMode --></a>).
Full graphics mode is especially useful when you have not set up a stopping criterion following the
methods described in Sections <a 
href="QubistHTMLse15.html#x29-400004.5">4.5<!--tex4ht:ref: sec:simpleStopping --></a> and <a 
href="QubistHTMLse19.html#x34-530004.9.2">4.9.2<!--tex4ht:ref: sec:customStopping --></a>. In practice, many problems that require parameter space
mapping are best stopped manually, because the limiting factors are often the length of time that the
population has been stable, the desired quality of the final figures, and how long you are willing to
wait to build up your solution set. It is usually better to run such problems through the graphical
interface, although it is certainly possible to run them on the MATLAB command line and use Qubist
visualization tools to analyze and view them periodically. <span 
class="cmti-10">Note, however, that pressing &#8216;Control-C&#8217; is the</span>
<span 
class="cmti-10">only way to stop Ferret prematurely when running without the interface. </span>This performs no cleanup
operations, and you will lose any generations that have been computed since the last History file was
saved.
<!--l. 2344--><p class="noindent" >The best reason to turn off graphics is to make very long-duration runs more robust against MATLAB crashes. This
is rarely a problem under Windows or MacIntosh, but in my experience, some previous versions of
MATLAB have not always been completely stable when doing graphically intensive operations under
Linux (See Section <a 
href="QubistHTMLse26.html#x43-650004.16.1">4.16.1<!--tex4ht:ref: sec:crash --></a> for an example.). If you suspect that you may be experiencing these kinds
of problems, it is worth trying to run the code without the graphical user interface for diagnostic
purposes.
<!--l. 2346--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.14.1   </span> <a 
 id="x41-600004.14.1"></a>Turning Graphics Off</h4>
<!--l. 2348--><p class="noindent" >The simplest way to run Ferret without graphics is to start the run through the graphical user interface, switch to
minimal graphics mode by pressing the &#8216;Turn Graphics Off&#8217; button in the console window, and close the
window. If you close the console in full-graphics mode, it will re-appear on the next generation. However,
if you close the console while running in minimal graphics mode, it&#8217;s gone for the duration of the
run.
<!--l. 2350--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.14.2   </span> <a 
 id="x41-610004.14.2"></a>Running Ferret from the Command Line: Custom Launchers and Batch Processing</h4>
<a 
 id="dx41-61001"></a>
                                                                                         

                                                                                         
<a 
 id="dx41-61002"></a>
<a 
 id="dx41-61003"></a>
<a 
 id="dx41-61004"></a>
<!--l. 2357--><p class="noindent" >If you want to start Ferret from the MATLAB command line without <span 
class="cmti-10">ever </span>starting the graphical interface,
you need to build a custom launcher for your project. Fortunately, this is not difficult, and I have
included an example with the Qubist distribution. The following is a verbatim copy of the file
[Qubist_Home]/user/Ferret/scripts/customLauncher.m, which runs the &#8216;Data-Modeling/Data-Modeler&#8217;
demo three times, writing History files to three different data directories. This file can be modified to
build a custom launcher for your problem. It would be easy to modify this file to run Ferret several
times to model multiple data sets, which is probably the best and most commonly used custom launch
technique.
<a 
 id="dx41-61005"></a>
<a 
 id="dx41-61006"></a>
<!--l. 2407--><p class="noindent" ><span 
class="colorbox" id="colorbox34"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">global</span><span 
class="cmtt-10">&#x00A0;QubistHome_</span><span 
class="cmtt-10">&#x00A0;isRunning_</span><span 
class="cmtt-10">&#x00A0;currentProjectPath_</span><span 
class="cmtt-10">&#x00A0;currentComponent_</span><span 
class="cmtt-10">&#x00A0;useMex_</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Modify</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;script</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;need</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;make</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;custom</span><span 
class="cmtt-10">&#x00A0;launcher</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;Ferret.</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;useful</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;need</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;run</span><span 
class="cmtt-10">&#x00A0;Ferret</span><span 
class="cmtt-10">&#x00A0;multiple</span><span 
class="cmtt-10">&#x00A0;times</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;customized</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;batch</span><span 
class="cmtt-10">&#x00A0;mode.</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Set</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;component</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;Ferret.</span><br /><span 
class="cmtt-10">currentComponent_=&#8217;Ferret&#8217;;</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;MODIFY</span><span 
class="cmtt-10">&#x00A0;THIS</span><span 
class="cmtt-10">&#x00A0;LINE</span><span 
class="cmtt-10">&#x00A0;TO</span><span 
class="cmtt-10">&#x00A0;POINT</span><span 
class="cmtt-10">&#x00A0;TO</span><span 
class="cmtt-10">&#x00A0;THE</span><span 
class="cmtt-10">&#x00A0;Qubist</span><span 
class="cmtt-10">&#x00A0;HOME</span><span 
class="cmtt-10">&#x00A0;DIRECTORY.</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;usually</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;global</span><span 
class="cmtt-10">&#x00A0;path,</span><span 
class="cmtt-10">&#x00A0;but</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;relative</span><span 
class="cmtt-10">&#x00A0;path</span><span 
class="cmtt-10">&#x00A0;also</span><span 
class="cmtt-10">&#x00A0;works</span><span 
class="cmtt-10">&#x00A0;(even</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;parallel</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmsy-10">&#x2198;</span><br />      <img 
src="QubistHTML5x.png" alt="                                                                                                                                                                                                                                                                                                                                                                                                      `&#x2192;"  class="hookrightarrow" ><span 
class="cmtt-10">&#x00A0;runs)</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;because</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;side-effect</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;setQubistPath</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;convert</span><span 
class="cmtt-10">&#x00A0;QubistHome_</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;global</span><span 
class="cmtt-10">&#x00A0;path.</span><br /><span 
class="cmtt-10">QubistHome_=&#8217;../../..&#8217;;</span><br /><span 
class="cmtt-10">addpath(QubistHome_);</span><br /><span 
class="cmtt-10">setQubistPath(QubistHome_);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Give</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;project</span><span 
class="cmtt-10">&#x00A0;path</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;setup</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;name.</span><br /><span 
class="cmtt-10">currentProjectPath_=[QubistHome_,</span><span 
class="cmtt-10">&#x00A0;&#8217;/demos/Data-Modeling/Data-Modeler&#8217;];</span><br /><span 
class="cmtt-10">setupFile=&#8217;FerretSetupCustom&#8217;;</span><br /><span 
class="cmtt-10">NRuns=3;</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Use</span><span 
class="cmtt-10">&#x00A0;compiled</span><span 
class="cmtt-10">&#x00A0;functions</span><span 
class="cmtt-10">&#x00A0;or</span><span 
class="cmtt-10">&#x00A0;not?</span><br /><span 
class="cmtt-10">useMex_=true;</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Add</span><span 
class="cmtt-10">&#x00A0;Qubist</span><span 
class="cmtt-10">&#x00A0;home.</span><br /><span 
class="cmtt-10">addpath(QubistHome_);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Force</span><span 
class="cmtt-10">&#x00A0;Qubist</span><span 
class="cmtt-10">&#x00A0;abort</span><span 
class="cmtt-10">&#x00A0;status</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;0</span><span 
class="cmtt-10">&#x00A0;so</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;Ferret</span><span 
class="cmtt-10">&#x00A0;can</span><span 
class="cmtt-10">&#x00A0;run.</span><br /><span 
class="cmtt-10">forceAbortQubist(0);</span><br /><span 
class="cmtt-10">isRunning_=0;</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Add</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;project</span><span 
class="cmtt-10">&#x00A0;path.</span><br /><span 
class="cmtt-10">addpath(genpath(currentProjectPath_));</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;Matlab</span><span 
class="cmtt-10">&#x00A0;version.</span><br /><span 
class="cmtt-10">MatlabVersion=getMatlabVersion;</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Parallelization</span><span 
class="cmtt-10">&#x00A0;info.</span><br /><span 
class="cmtt-10">setGUIDataRoot(&#8217;parallel&#8217;,</span><span 
class="cmtt-10">&#x00A0;false);</span><br /><span 
class="cmtt-10">launchDir=fileparts(which(mfilename));</span><br /><span 
class="cmtt-10">setGUIDataRoot(&#8217;launchDir&#8217;,</span><span 
class="cmtt-10">&#x00A0;launchDir);</span></div>
</div></span>
<!--l. 2448--><p class="noindent" ><span 
class="colorbox" id="colorbox35"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;---------------------------------------------------------------------</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Initialize</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;random</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;generator.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;It</span><span 
class="cmtt-10">&#x00A0;may</span><span 
class="cmtt-10">&#x00A0;occasionally</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;useful</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;re-generate</span><span 
class="cmtt-10">&#x00A0;runs</span><span 
class="cmtt-10">&#x00A0;*exactly*</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;using</span><span 
class="cmtt-10">&#x00A0;exactly</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;same</span><span 
class="cmtt-10">&#x00A0;pseudo-random</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;sequence.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;If</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;desired,</span><span 
class="cmtt-10">&#x00A0;just</span><span 
class="cmtt-10">&#x00A0;comment</span><span 
class="cmtt-10">&#x00A0;out</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;first</span><span 
class="cmtt-10">&#x00A0;line</span><span 
class="cmtt-10">&#x00A0;below</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;initializes</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;random</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;generator</span><span 
class="cmtt-10">&#x00A0;using</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;clock,</span><span 
class="cmtt-10">&#x00A0;and</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;uncomment</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;second</span><span 
class="cmtt-10">&#x00A0;line,</span><span 
class="cmtt-10">&#x00A0;which</span><span 
class="cmtt-10">&#x00A0;resets</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;random</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;generator</span><span 
class="cmtt-10">&#x00A0;to</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;its</span><span 
class="cmtt-10">&#x00A0;default</span><span 
class="cmtt-10">&#x00A0;state.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Random</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;initialization</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;done</span><span 
class="cmtt-10">&#x00A0;anywhere</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;else</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;Qubist.</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Uncomment</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;DIFFERENT</span><span 
class="cmtt-10">&#x00A0;random</span><span 
class="cmtt-10">&#x00A0;sequence</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;time.</span><br /><span 
class="cmtt-10">if</span><span 
class="cmtt-10">&#x00A0;MatlabVersion</span><span 
class="cmtt-10">&#x00A0;&#x003E;=</span><span 
class="cmtt-10">&#x00A0;7.7</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;s</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;RandStream.create(&#8217;mt19937ar&#8217;,&#8217;seed&#8217;,sum(100*clock));</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;RandStream.setDefaultStream(s);</span><br /><span 
class="cmtt-10">elseif</span><span 
class="cmtt-10">&#x00A0;MatlabVersion</span><span 
class="cmtt-10">&#x00A0;&#x003E;=</span><span 
class="cmtt-10">&#x00A0;7.4</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;rand(&#8217;twister&#8217;,</span><span 
class="cmtt-10">&#x00A0;sum(100*clock));</span><span 
class="cmtt-10">&#x00A0;%#ok</span><br /><span 
class="cmtt-10">else</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;randn(&#8217;state&#8217;,</span><span 
class="cmtt-10">&#x00A0;sum(100*clock));</span><span 
class="cmtt-10">&#x00A0;%#ok</span><br /><span 
class="cmtt-10">end</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Uncomment</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;SAME</span><span 
class="cmtt-10">&#x00A0;random</span><span 
class="cmtt-10">&#x00A0;sequence</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;time.</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;MatlabVersion</span><span 
class="cmtt-10">&#x00A0;&#x003E;=</span><span 
class="cmtt-10">&#x00A0;7.7</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;s</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;RandStream.create(&#8217;mt19937ar&#8217;,&#8217;seed&#8217;,5489);</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;RandStream.setDefaultStream(s);</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;elseif</span><span 
class="cmtt-10">&#x00A0;MatlabVersion</span><span 
class="cmtt-10">&#x00A0;&#x003E;=</span><span 
class="cmtt-10">&#x00A0;7.4</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;rand(&#8217;twister&#8217;,</span><span 
class="cmtt-10">&#x00A0;5489);</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;else</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;rand(&#8217;state&#8217;,</span><span 
class="cmtt-10">&#x00A0;0);</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;end</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;randn(&#8217;state&#8217;,</span><span 
class="cmtt-10">&#x00A0;0);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Other</span><span 
class="cmtt-10">&#x00A0;options</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;possible.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Refer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;Matlab&#8217;s</span><span 
class="cmtt-10">&#x00A0;documentation</span><span 
class="cmtt-10">&#x00A0;on</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;random</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;generators</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;typing</span><span 
class="cmtt-10">&#x00A0;&#8217;help</span><span 
class="cmtt-10">&#x00A0;rand&#8217;.</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;----------------------------------------------------------------</span></div>
</div></span>
<!--l. 2494--><p class="noindent" ><span 
class="colorbox" id="colorbox36"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">for</span><span 
class="cmtt-10">&#x00A0;i=1:NRuns</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;Load</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;init</span><span 
class="cmtt-10">&#x00A0;file.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;You</span><span 
class="cmtt-10">&#x00A0;should</span><span 
class="cmtt-10">&#x00A0;use</span><span 
class="cmtt-10">&#x00A0;getExtPar</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;this,</span><span 
class="cmtt-10">&#x00A0;because</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;getExtPar</span><span 
class="cmtt-10">&#x00A0;sets</span><span 
class="cmtt-10">&#x00A0;options</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;required</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;parallel</span><span 
class="cmtt-10">&#x00A0;runs.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;If</span><span 
class="cmtt-10">&#x00A0;you</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;don&#8217;t</span><span 
class="cmtt-10">&#x00A0;want</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;parallel</span><span 
class="cmtt-10">&#x00A0;runs,</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;*can*</span><span 
class="cmtt-10">&#x00A0;simple</span><span 
class="cmtt-10">&#x00A0;do:</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;extPar=init;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;runInfo.projectPath=currentProjectPath_;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;runInfo.initFile=&#8217;init&#8217;;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;extPar=getExtPar(runInfo);</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;***</span><span 
class="cmtt-10">&#x00A0;Additions</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;extPar</span><span 
class="cmtt-10">&#x00A0;here...</span><span 
class="cmtt-10">&#x00A0;***</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;These</span><span 
class="cmtt-10">&#x00A0;extPar</span><span 
class="cmtt-10">&#x00A0;fields</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;required.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;extPar.mode=&#8217;RunNoGraphics&#8217;;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;Uncomment</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;run</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;no</span><span 
class="cmtt-10">&#x00A0;graphics</span><span 
class="cmtt-10">&#x00A0;(normal</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmsy-10">&#x2198;</span><br />      <img 
src="QubistHTML6x.png" alt=""  class="hookrightarrow" ><span 
class="cmtt-10">&#x00A0;batch</span><span 
class="cmtt-10">&#x00A0;processing).</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;extPar.mode=&#8217;Run&#8217;;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;Uncomment</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;run</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;full</span><span 
class="cmtt-10">&#x00A0;graphics.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;extPar.mode=&#8217;Run&#8217;;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;Uncomment</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;run</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;full</span><span 
class="cmtt-10">&#x00A0;graphics.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;extPar.projectPath=currentProjectPath_;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;ESSENTIAL!</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;can</span><span 
class="cmtt-10">&#x00A0;also</span><span 
class="cmtt-10">&#x00A0;make</span><span 
class="cmtt-10">&#x00A0;his/her</span><span 
class="cmtt-10">&#x00A0;own</span><span 
class="cmtt-10">&#x00A0;modifications</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;template</span><span 
class="cmtt-10">&#x00A0;here.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;extPar.runNumber=i;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;%</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Ferret(extPar,</span><span 
class="cmtt-10">&#x00A0;setupFile);</span><br /><span 
class="cmtt-10">end</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;====================================</span><br /><br /><span 
class="cmtt-10">function</span><span 
class="cmtt-10">&#x00A0;MatlabVersion=getMatlabVersion</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;Matlab</span><span 
class="cmtt-10">&#x00A0;version.</span><br /><span 
class="cmtt-10">MatlabVersion=version;</span><br /><span 
class="cmtt-10">MatlabVersion(MatlabVersion</span><span 
class="cmtt-10">&#x00A0;==</span><span 
class="cmtt-10">&#x00A0;&#8217;.&#8217;)=[];</span><br /><span 
class="cmtt-10">MatlabVersion=MatlabVersion(1:3);</span><br /><span 
class="cmtt-10">MatlabVersion=str2num(MatlabVersion)/100;</span></div>
</div></span>
<a 
 id="dx41-61122"></a>
<a 
 id="dx41-61123"></a>
<!--l. 2502--><p class="noindent" >There are a few key points to keep in mind when designing a custom launcher for a batch job:
     <ul class="itemize1">
     <li class="itemize">
     <a 
 id="dx41-61124"></a>
     <a 
 id="dx41-61125"></a>Ferret
     requires
     a
     global
     variable
     called
     <span 
class="cmmi-10">QubistHome</span>_,
     which
     is
     a
     string
     that
     contains
     the
     location
     of
     the
     Qubist
     home
                                                                                         

                                                                                         
     directory
     on
     your
     file
     system.
     This
     is
     normally
     a
     global
     path,
     but
     you
     <span 
class="cmti-10">can</span>
     use
     a
     local
     path
     if
     you
     want.
     A
     program
     called
     &#8216;setQubistPath.m&#8217;
     is
     called
     to
     set
     all
     of
     the
     paths
     required
     for
     Qubist,
     and
     a
     side-effect
     of
     this
     program
     is
     that
     <span 
class="cmmi-10">QubistHome</span>_
     will
     be
     converted
                                                                                         

                                                                                         
     to
     a
     global
     path.
     </li>
     <li class="itemize">
     Ferret
     requires
     a
     few
     other
     global
     variables
     that
     are
     listed
     near
     the
     top
     of
     the
     file.
     These
     must
     be
     included
     in
     a
     custom
     launcher.
     The
     meaning
     of
     each
     global
     variable
     is
     clear
     from
     its
     name.
     </li>
     <li class="itemize">
     <a 
 id="dx41-61126"></a>
     The
                                                                                         

                                                                                         
     random
     number
     generator
     should
     be
     initialized
     with
     the
     system
     clock
     if
     you
     want
     multiple
     runs
     of
     the
     custom
     launcher
     to
     be
     different.
     If
     you
     forget
     to
     re-seed
     the
     random
     number
     generator,
     you
     may
     find
     that
     two
     runs
     of
     your
     project
     in
     different
     MATLAB
     sessions
     are
     identical
     in
     every
                                                                                         

                                                                                         
     detail.
     This
     is
     occasionally
     useful
     for
     testing,
     but
     not
     otherwise,
     because
     the
     point
     behind
     doing
     multiple
     runs
     is
     usually
     to
     build
     up
     statistically
     independent
     solution
     sets
     that
     can
     be
     combined
     later
     on
     using
     the
     &#8216;Merge
     OptimalSolutions
     Tool&#8217;
     discussed
     in
     Section
     <a 
href="QubistHTMLse97.html#x130-21800012.4">12.4<!--tex4ht:ref: sec:mergeOptimalSolutions --></a>.
     If
     you
     really
     do
     want
     subsequent
     runs
                                                                                         

                                                                                         
     to
     be
     identical,
     uncomment
     the
     appropriate
     lines
     (starting
     with
     &#8216;Uncomment
     for
     SAME
     random
     sequence
     each
     time.&#8217;)
     to
     put
     the
     random
     number
     generator
     into
     a
     fixed
     state.
     </li>
     <li class="itemize">
     <a 
 id="dx41-61127"></a>
     If
     your
     project
     requires
     an
     init
     file,
     you
     must
     call
     it
     from
     in
     your
     custom
     launcher
     to
                                                                                         

                                                                                         
     generate
     the
     <span 
class="cmmi-10">extPar</span>
     data
     structure.
     If
     you
     want
     to
     run
     in
     parallel
     mode,
     then
     you
     need
     to
     obtain
     <span 
class="cmmi-10">extPar</span>
     using
     the
     <span 
class="cmtt-10">getExtPar</span>
     command,
     which
     also
     sets
     some
     essential
     options
     to
     prepare
     Qubist
     for
     parallel
     computation.
     Specifically,
     you
     should
     include
     lines
     like
     the
     following:
     <!--l. 2514--><p class="noindent" ><span 
class="colorbox" id="colorbox37"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;runInfo.projectPath=currentProjectPath_;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;runInfo.initFile=&#8217;init&#8217;;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;extPar=getExtPar(runInfo);</span></div>
     </div></span>
     <!--l. 2520--><p class="noindent" >If you don&#8217;t want to do any parallel computing, then you can call your init file directly with a line like
     <span 
class="cmtt-10">extPar=init</span>, and also skip the steps labelled &#8216;Parallelization Info&#8217;.
                                                                                         

                                                                                         
     <!--l. 2522--><p class="noindent" >The <span 
class="cmmi-10">extPar </span>structure and the name of the setup file (<span 
class="cmmi-10">setupFile</span>) must be passed to Ferret by the call
     Ferret(extPar, setupFile). Normally, <span 
class="cmmi-10">setupFile </span>is just a string containing the name of the file if it is located in
     the project directory. Alternatively, <span 
class="cmmi-10">setupFile </span>can contain a path relative to the project directory, or it can be
     given as an absolute path.
     </li>
     <li class="itemize">Ferret returns three optional output arguments: <span 
class="cmtt-10">[X,F,History]=Ferret(extPar,setupFile)</span>. Here, <span 
class="cmmi-10">X </span>is the
     final set of parameters from the last generation of the run, <span 
class="cmmi-10">F </span>is the final set of fitness values, and History is
     the final History data structure that is written to disk. In practice, these output arguments are seldom used
     because your final results will be obtained later when you perform an analysis, as discussed in Section
     <a 
href="QubistHTMLse25.html#x42-630004.15">4.15<!--tex4ht:ref: sec:analysis --></a>.
     </li>
     <li class="itemize">Runs produce History files that can be analyzed after the end of the run using the Qubist &#8216;Analyze History
     Tool&#8217;, which can be started from the component selector. See Section <a 
href="QubistHTMLse95.html#x127-21600012.2">12.2<!--tex4ht:ref: sec:analyzeHistoryTool --></a> for detailed information about this
     tool.</li></ul>
<!--l. 2528--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.14.3   </span> <a 
 id="x41-620004.14.3"></a>Returning Values from Ferret</h4>
<a 
 id="dx41-62001"></a>
<!--l. 2532--><p class="noindent" >Note that the custom launcher above calls Ferret, but does not receive any values back. Ferret always writes History
files to disk as it runs, which preserve its state and all optimal solutions that are discovered at each generation.
These History files must be analyzed to calculate the final optimal set. This can be done by using the Analyze
History tool discussed in Section <a 
href="QubistHTMLse95.html#x127-21600012.2">12.2<!--tex4ht:ref: sec:analyzeHistoryTool --></a>. So what if you prefer to receive the results as an an output argument of the
custom launcher, rather than performing the extra analysis step for each Ferret run? You can do this by including
the line
<a 
 id="dx41-62002"></a>
<!--l. 2538--><p class="noindent" ><span 
class="colorbox" id="colorbox38"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">par.analysis.analyzeWhenDone=true;</span></div>
</div></span>
<!--l. 2544--><p class="noindent" >in your setup file, to trigger automatic analysis when Ferret finishes, and calling Ferret using the syntax
<!--l. 2549--><p class="noindent" ><span 
class="colorbox" id="colorbox39"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">[X{i},</span><span 
class="cmtt-10">&#x00A0;F{i},</span><span 
class="cmtt-10">&#x00A0;OptimalSolutions{i}]=Ferret(extPar,</span><span 
class="cmtt-10">&#x00A0;setupFile);</span></div>
</div></span>
<a 
 id="dx41-62005"></a>
<!--l. 2556--><p class="noindent" >Analysis will be done automatically, and <span 
class="cmtt-10">OptimalSolutions</span><span 
class="cmsy-10">{</span><span 
class="cmmi-10">i</span><span 
class="cmsy-10">} </span>will contain the <span 
class="cmmi-10">OptimalSolutions </span>structure for the
<span 
class="cmmi-10">i</span><sup><span 
class="cmmi-7">th</span></sup> run. If you forget to set analyzeWhenDone to true, then you will receive the final History data structure when
Ferret finishes, instead of <span 
class="cmmi-10">OptimalSolutions</span>. The data stored in a History cell array is discussed in detail in Section
<a 
href="QubistHTMLse26.html#x43-680004.16.4">4.16.4<!--tex4ht:ref: sec:History_files --></a>, and the <span 
class="cmmi-10">OptimalSolutions </span>structure is discussed in Section <a 
href="QubistHTMLse28.html#x46-700004.18">4.18<!--tex4ht:ref: sec:OptimalSolutions_file --></a>. <span 
class="cmti-10">You should be very careful when using this</span>
<span 
class="cmti-10">method for batch runs because OptimalSolutions structures can be large, and you will accumulate one for each</span>
<span 
class="cmti-10">run.  </span>It is usually better to just set <span 
class="cmtt-10">par.analysis.analyzeWhenDone=true </span>to trigger analysis, but
call Ferret without output arguments. When your custom launcher finishes, you will have to read
an OptimalSolutions file from disk for each Ferret run, but you are much less likely to run out of
memory!
<a 
 id="dx41-62006"></a>
                                                                                         

                                                                                         
<a 
 id="dx41-62007"></a>
<a 
 id="dx41-62008"></a>
                                                                                         

                                                                                         
<!--l. 2562--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLse25.html" >next</a>] [<a 
href="QubistHTMLse23.html" >prev</a>] [<a 
href="QubistHTMLse23.html#tailQubistHTMLse23.html" >prev-tail</a>] [<a 
href="QubistHTMLse24.html" >front</a>] [<a 
href="QubistHTMLch4.html#QubistHTMLse24.html" >up</a>] </p></div>
<!--l. 2562--><p class="noindent" ><a 
 id="tailQubistHTMLse24.html"></a>  
</body></html> 
