<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>10 Anvil</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,frames,3 --> 
<meta name="src" content="QubistHTML.tex"> 
<meta name="date" content="2012-02-01 01:22:00"> 
<link rel="stylesheet" type="text/css" href="QubistHTML.css"> 
</head><body 
>
<!--l. 5992--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLch11.html" >next</a>] [<a 
href="QubistHTMLch9.html" >prev</a>] [<a 
href="QubistHTMLch9.html#tailQubistHTMLch9.html" >prev-tail</a>] [<a 
href="#tailQubistHTMLch10.html">tail</a>] [<a 
href="QubistHTML3.html#QubistHTMLch10.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;10</span><br /><a 
 id="x103-15600010"></a>Anvil</h2>
<a 
 id="dx103-156001"></a>
     <div class="quote">
     <!--l. 5999--><p class="noindent" ><span 
class="cmti-10">The</span>
     <span 
class="cmti-10">longer</span>
     <span 
class="cmti-10">I</span>
     <span 
class="cmti-10">work</span>
     <span 
class="cmti-10">on</span>
     <span 
class="cmti-10">an</span>
     <span 
class="cmti-10">optimizer,</span>
     <span 
class="cmti-10">the</span>
     <span 
class="cmti-10">more</span>
     <span 
class="cmti-10">it</span>
     <span 
class="cmti-10">ends</span>
     <span 
class="cmti-10">up</span>
     <span 
class="cmti-10">looking</span>
     <span 
class="cmti-10">like</span>
     <span 
class="cmti-10">a</span>
     <span 
class="cmti-10">genetic</span>
     <span 
class="cmti-10">algorithm.</span></div>
<a 
 id="dx103-156002"></a>
<a 
 id="dx103-156003"></a>
<a 
 id="dx103-156004"></a>
<a 
 id="dx103-156005"></a>
<a 
 id="dx103-156006"></a>
<a 
 id="dx103-156007"></a>
<!--l. 6009--><p class="noindent" >Anvil is Qubist&#8217;s multi-objective simulated annealing/genetic algorithm hybrid optimizer, which has been part of
the Qubist package since spring 2007. I originally intended it to be Qubist&#8217;s main polisher for multi-objective
problems, and it served this role quite nicely until SAMOSA took over as my preferred polisher in early 2009. Anvil
is a <span 
class="cmti-10">very </span>effective and thorough polisher, but I think its global optimization properties are sometimes
a little too powerful for this role. Like Ferret, Anvil is a global optimizer that spends a lot of time
exploring the parameter space and hunting for global minima - perhaps too much time for a &#8216;polisher&#8217;,
where the goal is to <span 
class="cmti-10">improve </span>on solutions that are already known to some degree of accuracy. However,
using Anvil as a polisher remains a good choice if you want to try an alternative to SAMOSA. Anvil
may require more time to run, but it will polish very effectively and might even extend the global
exploration.
<!--l. 6011--><p class="noindent" >Anvil&#8217;s niche in the set of Qubist optimizers is intermediate between the front line global solvers Ferret and Locust,
and the (mostly) local optimizers SAMOSA and SemiGloSS. Anvil is the only optimizer in the Qubist
                                                                                         

                                                                                         
package that can be used both as a polisher, and also as a standalone optimizer with good global
search properties. Anvil isn&#8217;t <span 
class="cmti-10">nearly </span>as powerful as Ferret on tough problems, but it is a simple, snappy,
lightweight code compared to Ferret&#8217;s heavy machinery that may find good quality solutions more quickly.
Anvil is also less powerful than Locust as a global optimizer, but simulated annealing is perhaps a
better-understood technique than particle swarms that will be familiar to many users, and Locust can&#8217;t be used for
polishing. Anvil is much better as a standalone global optimizer than either SAMOSA or SemiGloSS.
As a global optimizer, Anvil is well-suited for problems of easy to moderate difficulty, and harder
problems where you need a good answer quickly, and care less about finding the absolute best answer that
exists.
<!--l. 6013--><p class="noindent" >You should note that Anvil differs significantly from a typical simulated annealing code in the following
ways:
     <ul class="itemize1">
     <li class="itemize">
     It
     is
     designed
     for
     both
     single-objective
     and
     multi-objective
     problems.
     </li>
     <li class="itemize">
     <a 
 id="dx103-156008"></a>
     It
     employs
     multiple
     &#8216;tracks&#8217;
     that
     explore
     the
     parameter
     space
     independently,
     where
     each
     track
     represents
     a
     search
     point
     that
     moves
                                                                                         

                                                                                         
     through
     the
     parameter
     space
     by
     the
     usual
     simulated
     annealing
     procedure
     of
     random
     perturbations
     and
     a
     temperature
     dependent
     acceptance
     criterion.
     </li>
     <li class="itemize">
     Search
     points
     interact
     with
     each
     other
     via
     crossover
     and
     selection
     operators
     that
     are
     inspired
     by
     genetic
     algorithms.
     I&#8217;ve
     taken
     to
     referring
     to
     the
     set
     of
                                                                                         

                                                                                         
     search
     points
     as
     a
     &#8216;population&#8217;,
     which
     of
     course
     comes
     from
     the
     language
     of
     genetic
     algorithms.
     </li>
     <li class="itemize">
     <a 
 id="dx103-156009"></a>
     Anvil
     has
     its
     own
     critical
     parameter
     detection
     (CPD)
     system,
     which
     is
     inspired
     by
     Ferret&#8217;s
     CPD
     system.
     </li>
     <li class="itemize">
     <a 
 id="dx103-156010"></a>
     Anvil
     uses
     an
     adaptive
     cooling
     schedule
     that
     helps
                                                                                         

                                                                                         
     to
     set
     the
     temperature
     dynamically,
     based
     on
     the
     distribution
     of
     energies
     in
     the
     population.</li></ul>
<a 
 id="dx103-156011"></a>
<a 
 id="dx103-156012"></a>
<!--l. 6024--><p class="noindent" >Anvil is predominantly a simulated annealing code, but its genetic algorithm-inspired components contribute
significantly to its ability to search globally. Individual tracks operate by the rules of simulated annealing, but
interact with each other through genetic algorithm-like operators. Multiple tracks help to cover the
parameter space more thoroughly and help with the global search, while interactions between tracks lead
to the same type of collective global behaviour that makes genetic algorithms so effective as global
optimizers.
<a 
 id="dx103-156013"></a>
<a 
 id="dx103-156014"></a>
<!--l. 6028--><p class="noindent" >Anvil has evolved considerably over its two year existence. It started out as a pure simulated annealing code,
intended mainly for polishing Ferret solutions, but I saw enough potential to expand it into a standalone optimizer.
I later added multiple tracks plus crossover and selection operators when I wanted to improve its global search
properties. I have often commented, partly in jest, to students of my Computational Physics course at the
University of Manitoba that the longer I work on an optimizer, the more it ends up looking like a genetic algorithm.
Nowhere is this more true than with Anvil.
<div class="sectionTOCS">
&#x00A0;<span class="sectionToc" >10.1 <a 
href="QubistHTMLse74.html#x104-15700010.1">Anvil as a Standalone Optimizer</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.1.1 <a 
href="QubistHTMLse74.html#x104-15800010.1.1" id="QQ2-104-191">Starting Anvil</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.1.2 <a 
href="QubistHTMLse74.html#x104-15900010.1.2" id="QQ2-104-193">Anvil&#8217;s Graphical Interface</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.1.3 <a 
href="QubistHTMLse74.html#x104-16000010.1.3" id="QQ2-104-194">Setup File &amp; Defaults</a></span>
<br />&#x00A0;<span class="sectionToc" >10.2 <a 
href="QubistHTMLse75.html#x105-16100010.2">Anvil as a Polisher</a></span>
<br />&#x00A0;<span class="sectionToc" >10.3 <a 
href="QubistHTMLse76.html#x106-16200010.3">The init Function</a></span>
<br />&#x00A0;<span class="sectionToc" >10.4 <a 
href="QubistHTMLse77.html#x107-16300010.4">The Energy/Fitness Function</a></span>
<br />&#x00A0;<span class="sectionToc" >10.5 <a 
href="QubistHTMLse78.html#x108-16400010.5">The Output Function and the Metal Data Structure</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.5.1 <a 
href="QubistHTMLse78.html#x108-16500010.5.1" id="QQ2-108-199">The Metal Data Structure</a></span>
                                                                                         

                                                                                         
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.5.2 <a 
href="QubistHTMLse78.html#x108-16600010.5.2" id="QQ2-108-200">Built-In Stopping Criteria</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.5.3 <a 
href="QubistHTMLse78.html#x108-16700010.5.3" id="QQ2-108-201">Custom Stopping Criterion</a></span>
<br />&#x00A0;<span class="sectionToc" >10.6 <a 
href="QubistHTMLse79.html#x109-16800010.6">The myPlot Function</a></span>
<br />&#x00A0;<span class="sectionToc" >10.7 <a 
href="QubistHTMLse80.html#x110-16900010.7">The OptimalSolutions File</a></span>
<br />&#x00A0;<span class="sectionToc" >10.8 <a 
href="QubistHTMLse81.html#x111-17000010.8">Running Anvil From the Command Line</a></span>
<br />&#x00A0;<span class="sectionToc" >10.9 <a 
href="QubistHTMLse82.html#x112-17100010.9">The AnvilSetup File</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.1 <a 
href="QubistHTMLse82.html#x112-17200010.9.1" id="QQ2-112-206">par.user</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.2 <a 
href="QubistHTMLse82.html#x112-17300010.9.2" id="QQ2-112-207">par.history</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.3 <a 
href="QubistHTMLse82.html#x112-17400010.9.3" id="QQ2-112-208">par.general</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.4 <a 
href="QubistHTMLse82.html#x112-17500010.9.4" id="QQ2-112-209">par.anneal</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.5 <a 
href="QubistHTMLse82.html#x112-17600010.9.5" id="QQ2-112-210">par.tracks</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.6 <a 
href="QubistHTMLse82.html#x112-17700010.9.6" id="QQ2-112-211">par.XOver</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.7 <a 
href="QubistHTMLse82.html#x112-17800010.9.7" id="QQ2-112-212">par.selection</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.8 <a 
href="QubistHTMLse82.html#x112-17900010.9.8" id="QQ2-112-213">par.stopping</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.9 <a 
href="QubistHTMLse82.html#x112-18000010.9.9" id="QQ2-112-214">par.niching</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.10 <a 
href="QubistHTMLse82.html#x112-18100010.9.10" id="QQ2-112-215">par.CPD</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >10.9.11 <a 
href="QubistHTMLse82.html#x112-18200010.9.11" id="QQ2-112-216">par.interface</a></span>
</div>








                                                                                         

                                                                                         
<!--l. 6794--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLch11.html" >next</a>] [<a 
href="QubistHTMLch9.html" >prev</a>] [<a 
href="QubistHTMLch9.html#tailQubistHTMLch9.html" >prev-tail</a>] [<a 
href="QubistHTMLch10.html" >front</a>] [<a 
href="QubistHTML3.html#QubistHTMLch10.html" >up</a>] </p></div>
<!--l. 6794--><p class="noindent" ><a 
 id="tailQubistHTMLch10.html"></a>  
</body></html> 
