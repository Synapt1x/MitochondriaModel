<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Running Locust from the Command Line</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,frames,3 --> 
<meta name="src" content="QubistHTML.tex"> 
<meta name="date" content="2012-02-01 01:22:00"> 
<link rel="stylesheet" type="text/css" href="QubistHTML.css"> 
</head><body 
>
<!--l. 6923--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLse86.html" >next</a>] [<a 
href="QubistHTMLse84.html" >prev</a>] [<a 
href="QubistHTMLse84.html#tailQubistHTMLse84.html" >prev-tail</a>] [<a 
href="#tailQubistHTMLse85.html">tail</a>] [<a 
href="QubistHTMLch11.html#QubistHTMLse85.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">11.3   </span> <a 
 id="x116-19000011.3"></a>Running Locust from the Command Line</h3>
<a 
 id="dx116-190001"></a>
<a 
 id="dx116-190002"></a>
<a 
 id="dx116-190003"></a>
<a 
 id="dx116-190004"></a>
<!--l. 6930--><p class="noindent" >Locust can be run from the command line without graphics, but a custom launch file is required. This section
presents a custom launcher for Locust where I assume the following:
     <ul class="itemize1">
     <li class="itemize">
     QH
     is
     a
     string
     containing
     the
     global
     path
     to
     your
     Qubist
     home
     directory.
     </li>
     <li class="itemize">
     <a 
 id="dx116-190005"></a>
     The
     project
     is
     one
     of
     the
     Qubist
     demos,
     called
     &#8216;Data-Modeling/Data-Modeler-Small-PopSize&#8217;.
                                                                                         

                                                                                         
     This
     demo
     has
     all
     the
     bells
     and
     whistles
     of
     a
     more
     complicated
     project.
     </li>
     <li class="itemize">
     <a 
 id="dx116-190006"></a>
     <a 
 id="dx116-190007"></a><a 
 id="dx116-190008"></a>
     The
     fitness
     function
     has
     the
     added
     complication
     that
     it
     contains
     a
     call
     to
     &#8216;isAbortEval&#8217;,
     which
     helps
     with
     parallel
     processing
     in
     Ferret
     and
     Locust.
     See
     Section
     <a 
href="QubistHTMLse40.html#x62-940006.4.4">6.4.4<!--tex4ht:ref: sec:isAbortEval --></a>
     for
     details.
     </li>
                                                                                         

                                                                                         
     <li class="itemize">
     We
     plan
     to
     run
     this
     project
     in
     the
     background,
     so
     we
     don&#8217;t
     want
     any
     graphics.</li></ul>
<a 
 id="dx116-190009"></a>
<a 
 id="dx116-190010"></a>
<!--l. 6997--><p class="noindent" ><span 
class="colorbox" id="colorbox128"> <div class="minipage"><div class="BVerbatimInput"><span 
class="cmtt-10">function</span><span 
class="cmtt-10">&#x00A0;customLauncher</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Modify</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;script</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;need</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;make</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;custom</span><span 
class="cmtt-10">&#x00A0;launcher</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;Locust</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;runs</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmsy-10">&#x2198;</span><br />      <img 
src="QubistHTML128x.png" alt="              `&#x2192;"  class="hookrightarrow" ><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;command</span><span 
class="cmtt-10">&#x00A0;line.</span><br /><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Set</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;Qubist</span><span 
class="cmtt-10">&#x00A0;component.</span><br /><span 
class="cmtt-10">global</span><span 
class="cmtt-10">&#x00A0;currentComponent_</span><br /><span 
class="cmtt-10">currentComponent_=&#8217;Locust&#8217;;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;Set</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;component.</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Reset</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;path:</span><br /><span 
class="cmtt-10">path(pathdef);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Set</span><span 
class="cmtt-10">&#x00A0;QH=Qubist</span><span 
class="cmtt-10">&#x00A0;Home</span><span 
class="cmtt-10">&#x00A0;directory.</span><br /><span 
class="cmtt-10">QH=&#8217;/Users/fiege/Documents/Qubist_Builder_PL/Qubist&#8217;;</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Give</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;project</span><span 
class="cmtt-10">&#x00A0;path</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;setup</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;name.</span><br /><span 
class="cmtt-10">currentProjectPath_=[QH,</span><span 
class="cmtt-10">&#x00A0;&#8217;/demos/Data-Modeling/Data-Modeler&#8217;];</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Add</span><span 
class="cmtt-10">&#x00A0;Qubist</span><span 
class="cmtt-10">&#x00A0;paths:</span><br /><span 
class="cmtt-10">addpath(QH);</span><br /><span 
class="cmtt-10">setQubistPath(QH);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Add</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;project</span><span 
class="cmtt-10">&#x00A0;directory.</span><br /><span 
class="cmtt-10">addpath(currentProjectPath_);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Force</span><span 
class="cmtt-10">&#x00A0;Qubist</span><span 
class="cmtt-10">&#x00A0;abort</span><span 
class="cmtt-10">&#x00A0;status</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;0</span><span 
class="cmtt-10">&#x00A0;so</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;Locust</span><span 
class="cmtt-10">&#x00A0;can</span><span 
class="cmtt-10">&#x00A0;run.</span><br /><span 
class="cmtt-10">forceAbortQubist(0);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Add</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;project</span><span 
class="cmtt-10">&#x00A0;path.</span><br /><span 
class="cmtt-10">addpath(genpath(currentProjectPath_));</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Parallelization</span><span 
class="cmtt-10">&#x00A0;info.</span><br /><span 
class="cmtt-10">setGUIDataRoot(&#8217;parallel&#8217;,</span><span 
class="cmtt-10">&#x00A0;false);</span><br /><span 
class="cmtt-10">launchDir=fileparts(which(mfilename));</span><br /><span 
class="cmtt-10">setGUIDataRoot(&#8217;launchDir&#8217;,</span><span 
class="cmtt-10">&#x00A0;launchDir);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Load</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;init</span><span 
class="cmtt-10">&#x00A0;file.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;You</span><span 
class="cmtt-10">&#x00A0;should</span><span 
class="cmtt-10">&#x00A0;use</span><span 
class="cmtt-10">&#x00A0;getExtPar</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;this,</span><span 
class="cmtt-10">&#x00A0;because</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;getExtPar</span><span 
class="cmtt-10">&#x00A0;sets</span><span 
class="cmtt-10">&#x00A0;options</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;required</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;parallel</span><span 
class="cmtt-10">&#x00A0;runs.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;If</span><span 
class="cmtt-10">&#x00A0;you</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;don&#8217;t</span><span 
class="cmtt-10">&#x00A0;want</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;parallel</span><span 
class="cmtt-10">&#x00A0;runs,</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;*can*</span><span 
class="cmtt-10">&#x00A0;simple</span><span 
class="cmtt-10">&#x00A0;do:</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;extPar=init;</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">runInfo.projectPath=currentProjectPath_;</span><br /><span 
class="cmtt-10">runInfo.initFile=&#8217;init&#8217;;</span><br /><span 
class="cmtt-10">extPar=getExtPar(runInfo);</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;***</span><span 
class="cmtt-10">&#x00A0;Additions</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;extPar</span><span 
class="cmtt-10">&#x00A0;here...</span><span 
class="cmtt-10">&#x00A0;***</span><br /><span 
class="cmtt-10">extPar.projectPath=currentProjectPath_;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;ESSENTIAL!</span><br /><span 
class="cmtt-10">extPar.mode=&#8217;RunNoGraphics&#8217;;</span><span 
class="cmtt-10">&#x00A0;%</span><span 
class="cmtt-10">&#x00A0;Uncomment</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;run</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;no</span><span 
class="cmtt-10">&#x00A0;graphics</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmsy-10">&#x2198;</span><br />      <img 
src="QubistHTML129x.png" alt=""  class="hookrightarrow" ><span 
class="cmtt-10">&#x00A0;(normal</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;batch</span><span 
class="cmtt-10">&#x00A0;processing).</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;-----------------------------------------</span><br /><span 
class="cmtt-10">%</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;Start</span><span 
class="cmtt-10">&#x00A0;Locust.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Note</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;validation</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;fitness</span><span 
class="cmtt-10">&#x00A0;function</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;done</span><br /><span 
class="cmtt-10">%</span><span 
class="cmtt-10">&#x00A0;inside</span><span 
class="cmtt-10">&#x00A0;LocustDriver.</span><br /><span 
class="cmtt-10">LocustDriver(extPar);</span></div>
</div></span>
<a 
 id="dx116-190065"></a>
<a 
 id="dx116-190066"></a>
<a 
 id="dx116-190067"></a>
<a 
 id="dx116-190068"></a>
<a 
 id="dx116-190069"></a>
<a 
 id="dx116-190070"></a>
<!--l. 7009--><p class="noindent" >Note that this example of a custom launcher for Locust does not return an OptimalSolutions structure directly. This
is similar to the custom launcher for Ferret (Section <a 
href="QubistHTMLse24.html#x41-610004.14.2">4.14.2<!--tex4ht:ref: sec:customLauncher --></a>), but unlike SAMOSA (Section <a 
href="QubistHTMLse72.html#x101-1480009.9">9.9<!--tex4ht:ref: sec:commandLine_SAMOSA --></a>) and Anvil (Section
<a 
href="QubistHTMLse81.html#x111-17000010.8">10.8<!--tex4ht:ref: sec:commandLine_Anvil --></a>). The reason for this difference is that the front line optimizers, Ferret and Locust, require an analysis step, as
outlined in Sections <a 
href="QubistHTMLse25.html#x42-630004.15">4.15<!--tex4ht:ref: sec:analysis --></a> and <a 
href="QubistHTMLse92.html#x123-20100011.10">11.10<!--tex4ht:ref: sec:OptimalSolutions_Locust --></a>. The optimal solution sets from these optimizers are not available until after
analysis is complete, and therefore cannot be returned from their custom launchers. SAMOSA and Anvil, on the
other hand, are much simpler optimizers that are designed to produce their optimal solution sets directly,
without requiring an extra analysis step. This property makes it possible to use these optimizers as
polishers.
<a 
 id="dx116-190071"></a>
<!--l. 7012--><p class="noindent" >Please refer to the comments in Section <a 
href="QubistHTMLse24.html#x41-610004.14.2">4.14.2<!--tex4ht:ref: sec:customLauncher --></a>, especially those that pertain to parallel computing. If you want to do
parallel runs, it is essential to obtain <span 
class="cmmi-10">extPar </span>by running the program <span 
class="cmtt-10">getExtPar </span>rather than calling your init file
directly by a command like <span 
class="cmtt-10">extPar=init</span>, since the <span 
class="cmtt-10">getExtPar </span>command also helps to ready Qubist for parallel
computation. If you don&#8217;t want to do any parallel computing, then you can call your init file directly, and also skip
the steps labelled &#8216;Parallelization Info&#8217;.
<a 
 id="dx116-190072"></a>
<a 
 id="dx116-190073"></a>
<a 
 id="dx116-190074"></a>
<a 
 id="dx116-190075"></a>
                                                                                         

                                                                                         
<!--l. 7020--><div class="crosslinks"><p class="noindent">[<a 
href="QubistHTMLse86.html" >next</a>] [<a 
href="QubistHTMLse84.html" >prev</a>] [<a 
href="QubistHTMLse84.html#tailQubistHTMLse84.html" >prev-tail</a>] [<a 
href="QubistHTMLse85.html" >front</a>] [<a 
href="QubistHTMLch11.html#QubistHTMLse85.html" >up</a>] </p></div>
<!--l. 7020--><p class="noindent" ><a 
 id="tailQubistHTMLse85.html"></a>  
</body></html> 
